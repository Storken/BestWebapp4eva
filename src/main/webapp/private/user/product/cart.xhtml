<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">
    <f:facet name="header">Cart</f:facet>
    <table width="100%">

        <br/>
        <ui:repeat id="cartItems" value="#{cartBB.cartItems}" var="item">
            <tr>
                <td align="right" style="padding-bottom: 1em">
                    <h:outputText value="ID.#{item.id} -"/>
                </td>
                <td align="left" style="padding-bottom: 1em">
                    <h:outputText value="#{item.title}"/>                 
                </td>
                <td align="right" style="padding-bottom: 1em">
                    <p:commandLink title="Remove from cart" actionListener="#{cartCtrl.removeFromCart(item)}" styleClass="ui-icon ui-icon-closethick" update=":layout"/> 
                </td>
            </tr>
        </ui:repeat>
    </table>

    <hr/>
    <div align="center">
        <p:commandButton id="manageButton" value="Proceed to order" update="cartDialog" oncomplete="PF('cartDialog').show()" icon="ui-icon-cart"/>
    </div>
</ui:composition>